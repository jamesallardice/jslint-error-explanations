--- 
title: "ADsafe violation: Wrap the widget in a div"
layout: post
tags: jslint
---
<p>
    <h3>When do I get this error?</h3>
</p>
<p>
    JSLint throws the "ADsafe violation: Wrap the widget in a div" error when the <span class="code">adsafe</span> and <span class="code">fragment</span> options are set to <span class="code">true</span> (they're <span class="code">false</span> by default) and you pass it <strong>a fragment of HTML that is not wrapped in a <span class="code">div</span> element</strong>. Here's an example:
</p>
<textarea data-jslintopts='{ "adsafe": true, "fragment": true }'>
&lt;script&gt;
    ADSAFE.go("adsafe-widget", function () {
        "use strict";
    });
&lt;/script&gt;</textarea>
<p>
    <h3>Why do I get this error?</h3>
</p>
<p>
    This error is raised when JSLint encounters code that <strong>violates the rules of the ADsafe subset of JavaScript</strong>. It is a fatal error that signifies a severe problem with ADsafe code and will have to be fixed before your ADsafe code will execute.
</p>
<p>
    ADsafe widgets must be wrapped in a <span class="code">div</span> element. The <a href="http://www.adsafe.org/widget.html" target="_blank">ADsafe widget documentation</a> states the following:
</p>
<blockquote>
    The <span class="code">&lt;div&gt;</span> element must have an <span class="code">id</span>. The <span class="code">id</span> must contain only upper case ASCII letters with a trailing _ character.
</blockquote>